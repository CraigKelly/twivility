<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Craig Kelly">

<title>Twivility API Documentation</title>

<link rel="stylesheet" href="/client/main.css" type="text/css" />
</head>
<body>

<header>
    <div class="banner">Welcome to Twivility</div>
    API Documentation
</header>

<div class="client-info">
    The simple HTML5 client is <a href="/client/index.html">here</a>.
</div>

<div class="api-info">
    <div class="endpoint">
        <div class="ep-path">GET /api/accts</div>
        <div class="ep-descrip">
            Returns all accounts currently being tracked as a list of strings.
            Each account corresponds to a Twitter handle without the leading "@"
            symbol.
        </div>
    </div>

    <div class="endpoint">
        <div class="ep-path">GET /api/tweets/{acct}</div>
        <div class="ep-descrip">
            Returns a list of tweet objects corresponding the {acct} passed in
            (which should be one of the accounts returned by /api/accts).
            Fields are: <ul>
                <li>TweetID</li>
                <li>UserID</li>
                <li>UserScreenName</li>
                <li>Text</li>
                <li>Timestamp</li>
                <li>FavoriteCount</li>
                <li>RetweetCount</li>
                <li>Hashtags</li>
                <li>Mentions</li>
                <li>IsRetweet</li>
            </ul>
        </div>
    </div>

    <div class="endpoint">
        <div class="ep-path">GET /api/stats</div>
        <div class="ep-descrip">
            Returns statistics on current service
            Fields are: <ul>
                <li>LastUpdateTime - last time timeline was polled</li>
                <li>LastStreamRecv - last time a streaming result (mention) was received</li>
                <li>MentionCount - number of streaming mentions captured since service start</li>
                <li>Accts - dictionary of accounts in timeline where the value is number of tweets stored</li>
            </ul>
        </div>
    </div>

    <div class="endpoint">
        <div class="ep-path">GET /api/recent-stream</div>
        <div class="ep-descrip">
            Returns the most recently streamed tweets (mentions). The max is currently 100.
            The format is the same as <span class="ep-ref">GET /api/tweets/{acct}</span>.
            Note that all captured mentions are kept on the server in the file stream.json.
        </div>
    </div>
</div>

</body>
</html>
